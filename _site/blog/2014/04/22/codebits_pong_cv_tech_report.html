<!DOCTYPE html>
<html lang="en">    
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Codebits Pong CV Tech Report</title>
    <meta name="description" content="">
    <meta name="author" content="ink, cookbook, recipes">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <link rel="shortcut icon" href="/img/favicon.ico">
    <link rel="alternate" type="application/rss+xml" title="Artica Blog Posts" href="http://artica.cc//blog/feed.xml" />
    <!--
    <link rel="apple-touch-icon-precomposed" href="../img/touch-icon.57.png">
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../img/touch-icon.72.png">
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../img/touch-icon.114.png">
    <link rel="apple-touch-startup-image" href="/img/splash.320x460.png"
    media="screen and (min-device-width: 200px) and (max-device-width: 320px) and (orientation:portrait)">
    <link rel="apple-touch-startup-image" href="/img/splash.768x1004.png"
    media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)">
    <link rel="apple-touch-startup-image" href="/img/splash.1024x748.png"
    media="screen and (min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)">
    -->
    <link rel="stylesheet" type="text/css" href="/css/ink.css">
    <link rel="stylesheet" type="text/css" href="/css/local.css">
    <link href="/js/prettify/prettify.css" rel="stylesheet">
    <link href="/js/prettify/desert.css" rel="stylesheet">

    <!--[if IE 7 ]>
        <link rel="stylesheet" href="../css/ink-ie7.css" type="text/css" media="screen" title="no title" charset="utf-8">
    <![endif]-->
    
    <script type="text/javascript" src="/js/lunr.min.js"></script>
    <script type="text/javascript" src="/js/holder.js"></script>
    <script type="text/javascript" src="/js/ink.min.js"></script>
    <script type="text/javascript" src="/js/ink.carousel.js"></script>
    <script type="text/javascript" src="/js/ink-ui.min.js"></script>
    <script type="text/javascript" src="/js/autoload.js"></script>
    <script type="text/javascript" src="/js/html5shiv.js"></script>
    <script type="text/javascript" src="/js/posts.js"></script>
    <script type="text/javascript" src="/js/local.js"></script>
    <script type="text/javascript" src="/js/prettify/prettify.js"></script>
  
    
    


</head>

     <header>
    <div>
    <nav class="ink-navigation">
    <ul class="menu horizontal black hide-small">
    	<div class="large-60 medium-70 push-right">
        <li><a href="/">Home</a></li>
        <li><a href="/blog/">Blog</a></li>
        <li><a href="#">Actividades</a></li>
        <li><a href="#">Contactos</a></li>
    	</div>
    </ul>
</nav>

<nav class="ink-navigation pull-right ink-grid hide-all show-small">
        <ul class="menu vertical flat nav_button">
            <li>
                <button class="toggle black" data-target="#topbar_menu" id="toggleVisibility">
                    <i class="icon-reorder"></i>
                </button>
            </li>
        </ul>
        <div class="vspace">
            <ul class="menu horizontal black hide-all" id="topbar_menu">
                <li><a href="/">Home</a></li>
		        <li><a href="/blog/">Blog</a></li>
		        <li><a href="#">Actividades</a></li>
		        <li><a href="#">Contactos</a></li>
            </ul>
        </div>
    </nav>
        
</div>
<script type="text/javascript">
    NavbarSelect();
</script>
</div>
</header>

    <body>
        <div class="ink-grid" style="padding-top:50px;">

			<section class="column-group gutters article">

			    <div class="large-25 medium-25 hide-small fadein">
			        <h2>More stories</h2>

					<form action="#" id="search-form" onsubmit="return(false);" onchange="search('relatedposts');" class="ink-form">
					    <fieldset>
				            <div class="control">
								<span class="search icon-search"></span>
				                <input type="text" autocomplete="off" id="searchterm">
				            </div>
					    </fieldset>
					</form>

			        <div class="vspace related">
						<nav class="ink-navigation">
					        <ul id="relatedposts">
					        </ul>
					    </nav>
			    	</div>
			    </div>

			    <div class="large-75 medium-75 small-100">
			        <article class="shadows">
							<h1>Codebits Pong CV Tech Report</h1>
							<p>Published in <time pubdate="pubdate">22 Apr 2014</time></p>

						<p>
							<p><img class="postimage" src="/assets/images/2014-04-22-codebits.png"/></p>

<p>For the <a href="http://artica.cc/blog/2014/04/14/codebits.html">Sapo Codebits 2014</a> event, our clients Sapo/PT asked us to develop a computer vision module to help count the votes and entertain the audience. The entire project is open source <a href="https://bitbucket.org/artica/audience-pong">at the bitbucket repo</a>.</p>

<p>We had already developed a similar project for <a href="http://artica.cc/projects/interactive/2013/09/26/audience-pong.html">Projecto 80</a> but we wanted to take this wonderful opportunity to <a hef="https://bitbucket.org/artica/bonsai.artica">test and develop some modules</a> for the <a href="https://bitbucket.org/horizongir/bonsai">Bonsai framework</a>, since it&#39;s being developed by a close friend of Artica, Gon√ßalo Lopes.</p>

<p>We re-implemented the computer vision modules using Bonsai. Testing it for use with multiple cameras and the new OSC message module, and integrated with our integration of XSockets module for Bonsai (based on <a href="http://xsockets.net/">XSockets.NET</a>). You can find our version at <a href="https://bitbucket.org/artica/bonsai.artica"></a>.</p>

<p>It also includes some computer vision modules of our own. Some optimised functionalities were needed, mainly to the divise, merge and serialise image frames on realtime.</p>

<div class="video-container"><iframe src="http://www.youtube.com/embed/8KTkqO_PKfY" frameborder="0" allowfullscreen></iframe></div>

<p>For the Pong we used standard HTML5 canvas client running on a modern browser (tested on Firefox 28 and Chrome 34). We used XSockets (with a .js library) to send the binary image of the camera from Bonsai to the browser, and also send weights information for the left and right paddles.</p>

<p>The insert coin screens were ripped from early Sapo Codebits video teasers created by <a href="http://hipnose.com">Hipnose</a> for Sapo. The bots are obtained in realtime from a list of participants of this years event, using the Codebits API to obtain the bot image.</p>

<p>The game is collaborative, not competitive. Both sides of the screen are attempting to keep the ball/bot in play for the longest possible time. On each hit it diminishes size and velocity increases.</p>

<p>The voting only has a computer vision module, the visuals were entirely on the application side of Sapo. We used a node.js server to receive the weights values  from Bonsai by OSC and rebroadcast them as standard websockets message.</p>

<p>We were required to do this on last minute because our target machine was using node.js and could not open any incoming ports. This would not allow it to be target of OSC. And there is no node.js library capable of receiving the xsockets kind of websockets. We hadn&#39;t previously realized that Xsockets seems to wrap the websockets protocol instead of following the standard. So we had to set up a node.js server of our own that would broadcast the localhost osc messages to the target machine via standard websockets.</p>

						</p>

			        </article>

			        <h2>Comments</h2>

				    <div id="disqus_thread"></div>
				    <script type="text/javascript">
						printRandomPosts(posts,5);

				        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
				        var disqus_shortname = 'artica'; // required: replace example with your forum shortname

				        /* * * DON'T EDIT BELOW THIS LINE * * */
				        (function() {
				            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
				            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
				        })();
				    </script>
				    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
				    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>    
				    </div>

			</section>
        </div>
    <footer>
<div class="ink-grid">
    <div class="column-group">
        <nav class="large-50 medium-50 small-100 ink-navigation push-left">
            <ul class="menu horizontal">
                <li class="active"><a href="https://twitter.com/artica_pt"><span class="icon-twitter"></span></a></li>
                <li><a href="https://www.facebook.com/pages/ArticaCc/196701617031031"><span class="icon-facebook"></span></a></li>
                <li><a href="https://www.youtube.com/user/articacc"><span class="icon-youtube"></span></a></li>
                <li><a href="https://github.com/artica"><span class="icon-github-alt"></span></a></li>
                <li><a href="/blog/feed.xml"><span class="icon-rss"></span></a></li>
                <li><a href="/contacts/"><span class="icon-envelope"></span></a></li>
                <li><a href="http://www.slideshare.net/articacc"><span class="icon-slideshare"></span></a></li>
            </ul>
        </nav>
        <div class="large-50 medium-50 hide-small footer-logos">
            <a class="push-right" href="http://ink.sapo.pt/">
                <img src="/assets/images/poweredbyink.png">
            </a>
            <!--<a class="push-right" href="/blog/2013/02/06/artica-joined-the-mindshaker-universe.html">
                <img src="/assets/images/mindshaker_logo.png">
            </a>-->
        </div>
    </div>
</div>
</footer>

<script type="text/javascript">

(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-45360427-1', 'artica.cc');
ga('send', 'pageview');

/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'artica'; // required: replace example with your forum shortname

/* * * DON'T EDIT BELOW THIS LINE * * */
(function () {
    var s = document.createElement('script'); s.async = true;
    s.type = 'text/javascript';
    s.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>

    </body>
</html>